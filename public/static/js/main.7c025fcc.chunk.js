(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(8),a=n.n(c),i=(n(13),n(3)),o=(n(14),n(2)),l=n(0);var j=function(e){var t=e.username,n=e.setUsername,r=e.password,s=e.setPassword,c=e.setCurrentUser,a=e.setIsAuthenticated,i=e.setErrors,j=e.errors,d=Object(o.f)();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{style:{textAlign:"center"},children:"Welcome to Pop Word!"}),Object(l.jsx)("div",{className:"login",children:Object(l.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault();var n={username:t,password:r};fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.json().then((function(e){3===e.chances?(c(e),a(!0),d("/play"),console.log(e)):(console.log(j),i("Invalid Username or Password"),c(null),a(!1),d("/login"))}))}))},children:[Object(l.jsx)("label",{for:"username",id:"username",children:"Username: "}),Object(l.jsx)("input",{type:"text",style:{background:"rgba(250, 250, 250, 0.171)"},onChange:function(e){n(e.target.value)},value:t,required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{for:"password",id:"password",children:"Password: "}),Object(l.jsx)("input",{type:"password",style:{marginTop:"5%",background:"rgba(250, 250, 250, 0.171)"},onChange:function(e){s(e.target.value)},value:r}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",style:{border:"none",background:"rgba(250, 250, 250, 0.171)",marginLeft:"33%",marginTop:"5%",marginBottom:"5%"},children:"Login"}),Object(l.jsx)("br",{}),Object(l.jsx)("a",{href:"/register",children:"Need an account? Click here to register!"})]})})]}),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("p",{className:"login-errors",children:j})})]})};var d=function(e){var t=e.isAuthenticated,n=e.setCurrentUser,r=e.setIsAuthenticated,s=Object(o.f)();return Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("a",{href:"/",style:{color:"rgb(0, 236, 205)"},className:"nav",children:"Home"}),t?Object(l.jsx)("a",{href:"/login",style:{color:"rgb(0, 236, 205)"},id:"login",className:"nav",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&s("/login"),n(null),r(!1)}))},children:"Logout"}):Object(l.jsx)("a",{href:"/login",style:{color:"rgb(0, 236, 205)"},id:"login",className:"nav",children:"Login"}),Object(l.jsx)("a",{href:"/play",style:t?{color:"rgb(0, 236, 205)",marginLeft:"20%"}:{visibility:"hidden"},className:"nav",id:"play",children:"Play"}),Object(l.jsx)("a",{href:"/leaderboards",style:{color:"rgb(0, 236, 205)"},className:"nav",children:"Leaderboards"})]})};var u=function(){return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("h1",{children:"Welcome to Pop Word!"}),Object(l.jsx)("h2",{children:"How to Play:"}),Object(l.jsx)("h3",{children:"You have 60 seconds to try to unscramble the given letters into it's actual word."}),Object(l.jsx)("h3",{children:"You are given three chances by default and they do NOT refill."}),Object(l.jsx)("h3",{children:"The faster you decipher the scrambled word gets you more points!"}),Object(l.jsx)("h3",{children:"Good Luck!"})]})};var b=function(e){var t,n,s=e.username,c=e.setUsername,a=e.password,j=e.setPassword,d=Object(r.useState)([]),u=Object(i.a)(d,2),b=u[0],h=u[1],O=Object(o.f)();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"register",children:Object(l.jsxs)("form",{className:"register-form",onSubmit:function(e){e.preventDefault();var t={username:s,password:a,chances:3,score:0,streak:0};fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.ok?e.json().then((function(e){O("/login")})):e.json().then((function(e){h(e)}))}))},children:[Object(l.jsx)("h2",{children:"Sign Up"}),Object(l.jsx)("label",{for:"username",id:"username",children:"Username: "}),Object(l.jsx)("input",{type:"text",style:{background:"rgba(250, 250, 250, 0.171)"},name:"username",onChange:function(e){c(e.target.value)},value:s,required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{for:"password",id:"password",style:{marginTop:"5%"},children:"Password: "}),Object(l.jsx)("input",{type:"password",style:{background:"rgba(250, 250, 250, 0.171)"},name:"password",onChange:function(e){j(e.target.value)},value:a,required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{for:"password-confirmation",style:{marginTop:"5%"},children:"Confirm Password: "}),Object(l.jsx)("input",{type:"password",style:{background:"rgba(250, 250, 250, 0.171)"},required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",style:{border:"none",background:"rgba(250, 250, 250, 0.171)",marginLeft:"33%",marginTop:"5%",marginBottom:"5%"},children:"Register"}),Object(l.jsx)("br",{})]})}),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("p",{className:"errors",children:null===b||void 0===b||null===(t=b.exception)||void 0===t?void 0:t.slice(50,(null===b||void 0===b||null===(n=b.exception)||void 0===n?void 0:n.length)-1)})})]})};var h=function(e){var t,n=e.currentUser,s=(e.music,e.random),c=e.setRandom,a=Object(o.f)(),j=Object(r.useState)([]),d=Object(i.a)(j,2),u=d[0],b=d[1],h=Object(r.useState)([]),O=Object(i.a)(h,2),m=O[0],f=O[1],x=Object(r.useState)(3),g=Object(i.a)(x,2),p=g[0],v=g[1],y=Object(r.useState)(0),w=Object(i.a)(y,2),k=w[0],N=w[1],S=Object(r.useState)(""),L=Object(i.a)(S,2),T=L[0],C=L[1],U=Object(r.useState)(60),P=Object(i.a)(U,2),E=P[0],A=P[1];function Y(e){b(u+e.target.id)}function I(e){e.preventDefault();var t=E>45&&3===p?1e3:E>30&&p>1?750:E>15&&p>0?500:E>0&&0===p?250:a("/YouLost");u!==(null===s||void 0===s?void 0:s.answer)?(v((function(e){return e-1})),b(""),N(0),C("Incorrect answer try again!")):p<0?a("/YouLost"):(fetch("/scores/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({score:n.score+=t,streak:k>n.streak?k:n.streak})}).then((function(e){return e.json()})).then((function(e){var t=null===m||void 0===m?void 0:m.filter((function(e){return e.answer!==u}));c(t[Math.floor(Math.random()*t.length)])})),N((function(e){return e+1})),b(""),C("That was the correct answer, well done!"),A(60),console.log(null===n||void 0===n?void 0:n.score))}return Object(r.useEffect)((function(){fetch("/words").then((function(e){return e.json()})).then((function(e){return f(e)}))}),[]),Object(r.useEffect)((function(){c(m[Math.floor(Math.random()*m.length)])}),[m,c]),Object(r.useEffect)((function(){var e=setTimeout((function(){E>0?A((function(e){return e-1})):0===E&&p>0?(v((function(e){return e-1})),A(60)):0===p&&0===E&&a("/YouLost")}),1e3);return function(){return clearTimeout(e)}})),Object(r.useEffect)((function(){var e=setTimeout((function(){return C("")}),3e3);return function(){return clearTimeout(e)}}),[I]),Object(r.useEffect)((function(){p<0&&a("/YouLost")}),[a,p]),Object(l.jsxs)("div",{className:"play",children:[Object(l.jsxs)("h2",{style:{marginLeft:"10%"},children:["Welcome, ",null===n||void 0===n?void 0:n.username,"!"]}),Object(l.jsxs)("div",{className:"game-board",children:[Object(l.jsxs)("div",{className:"scores",children:[Object(l.jsxs)("h3",{style:{marginLeft:"5%"},children:["Lifetime Score: ",null===n||void 0===n?void 0:n.score]}),Object(l.jsxs)("h3",{style:{marginLeft:"5%"},children:["Chances: ",p]}),Object(l.jsxs)("h3",{style:{marginLeft:"5%"},children:["Streak: ",k]}),Object(l.jsxs)("h3",{style:{marginLeft:"5%"},children:["Longest Streak: ",(null===n||void 0===n?void 0:n.streak)>k?n.streak:k]}),Object(l.jsxs)("h3",{style:{marginLeft:"5%"},children:["Time Remaining: ",E]})]}),Object(l.jsx)("div",{className:"word",children:null===s||void 0===s||null===(t=s.scrambled)||void 0===t?void 0:t.split("").map((function(e){return Object(l.jsx)("h2",{className:"word-keys",children:e},e.id)}))}),Object(l.jsxs)("div",{className:"hint",children:["Hint: ",3===p?null===s||void 0===s?void 0:s.initial_hint:2===p?null===s||void 0===s?void 0:s.hint1:1===p?null===s||void 0===s?void 0:s.hint2:null===s||void 0===s?void 0:s.hint3,Object(l.jsx)("br",{}),Object(l.jsx)("p",{style:{color:"white"},children:T})]}),Object(l.jsx)("div",{className:"user-answer",children:Object(l.jsxs)("form",{onSubmit:I,children:[Object(l.jsx)("input",{type:"text",style:{border:"none",background:"rgba(250, 250, 250, 0.171)",cursor:"default",height:"50px",width:"200px"},value:u,readOnly:!0}),Object(l.jsx)("button",{type:"submit",style:{border:"none",background:"rgba(250, 250, 250, 0.171)",height:"50px",width:"200px",marginLeft:"20px"},children:"Check your Answer!"})]})}),Object(l.jsxs)("div",{className:"keyboard",children:[Object(l.jsx)("div",{className:"top",children:["Q","W","E","R","T","Y","U","I","O","P"].map((function(e){return Object(l.jsx)("h2",{className:"key",onClick:Y,value:e,id:e,children:e})}))}),Object(l.jsx)("div",{className:"mid",children:["A","S","D","F","G","H","J","K","L"].map((function(e){return Object(l.jsx)("h2",{className:"key",onClick:Y,value:e,id:e,children:e})}))}),Object(l.jsx)("div",{className:"bottom",children:["Z","X","C","V","B","N","M"].map((function(e){return Object(l.jsx)("h2",{className:"key",onClick:Y,value:e,id:e,children:e})}))}),Object(l.jsx)("div",{className:"backspace",children:Object(l.jsx)("h2",{className:"key",onClick:function(){b("")},children:"\u2b05"})})]})]})]})};var O=function(){return Object(l.jsxs)("div",{className:"sorry",children:[Object(l.jsxs)("h1",{children:["You used up all of your chances! You can give it another shot by clicking ",Object(l.jsx)("a",{href:"/play",children:"here!"})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("h1",{children:["Or if your done playing click ",Object(l.jsx)("a",{href:"/",children:"here"})," to return home."]})]})};var m=function(){return Object(l.jsxs)("div",{className:"winner",children:[Object(l.jsxs)("h1",{children:["Wow You actually guessed right click ",Object(l.jsx)("a",{href:"/play",children:"here"})," to play again."]}),Object(l.jsxs)("h1",{children:["or click ",Object(l.jsx)("a",{href:"/",children:"here"})," to return home."]})]})};var f=function(){return Object(l.jsx)("div",{className:"howTo"})};var x=function(e){var t=e.currentUser,n=Object(r.useState)([]),s=Object(i.a)(n,2),c=s[0],a=s[1];return Object(r.useEffect)((function(){fetch("/users").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[t]),Object(l.jsxs)("div",{className:"leaderboards",children:[Object(l.jsx)("h1",{style:{margin:"0 auto",textAlign:"center"},children:"All time rankings"}),Object(l.jsx)("div",{className:"rankings",children:c.map((function(e){return Object(l.jsx)("div",{className:"ranking-item",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("h3",{children:e.username}),Object(l.jsxs)("h3",{children:["Total points: ",e.score]})]})})}))})]})},g=n(5),p=n.p+"static/media/lofi-study-112191.971be2d4.mp3";var v=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!1),a=Object(i.a)(c,2),v=a[0],y=a[1],w=Object(r.useState)(""),k=Object(i.a)(w,2),N=k[0],S=k[1],L=Object(r.useState)(""),T=Object(i.a)(L,2),C=T[0],U=T[1],P=Object(r.useState)(""),E=Object(i.a)(P,2),A=E[0],Y=E[1],I=Object(r.useState)([]),W=Object(i.a)(I,2),J=W[0],M=W[1];return Object(r.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){y(!0),s(e)}))}))}),[]),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(g.a,{children:[Object(l.jsx)(d,{isAuthenticated:v,setCurrentUser:s,setIsAuthenticated:y}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",element:Object(l.jsx)(u,{})}),Object(l.jsx)(o.a,{path:"/login",element:Object(l.jsx)(j,{errors:A,username:N,setUsername:S,password:C,setPassword:U,setCurrentUser:s,setIsAuthenticated:y,setErrors:Y})}),Object(l.jsx)(o.a,{path:"/register",element:Object(l.jsx)(b,{username:N,setUsername:S,password:C,setPassword:U})}),Object(l.jsx)(o.a,{path:"/play",element:Object(l.jsx)(h,{currentUser:n,music:p,random:J,setRandom:M})}),Object(l.jsx)(o.a,{path:"/YouLost",element:Object(l.jsx)(O,{})}),Object(l.jsx)(o.a,{path:"/YouWin",element:Object(l.jsx)(m,{})}),Object(l.jsx)(o.a,{path:"/leaderboards",element:Object(l.jsx)(x,{currentUser:n})}),Object(l.jsx)(o.a,{path:"/how_to_play",element:Object(l.jsx)(f,{})})]})]})})};a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.7c025fcc.chunk.js.map